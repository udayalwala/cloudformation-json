{
"Parameters":
{
"environment":
{
"Type":"String"
}
},
"Conditions":
{
"condition1":
{
"Fn::Equals":[{"Ref":"environment"},"dev"]
},
"condition2":
{
"Fn::Equals":[{"Ref":"environment"},"test"]
}
},
"Resources":
{
"myinstance":
{
"Type":"AWS::EC2::Instance",
"Properties":
{
"ImageId":"ami-0447a12f28fddb066",
"InstanceType":{"Fn::If":["condition1","t2.micro",{"Fn::If":["condition2","t2.small","t2.xlarge"]}]}
}
}
}
}