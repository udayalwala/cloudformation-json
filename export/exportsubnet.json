{
"Resources":
{
"vpc1":
{
"Type":"AWS::EC2::VPC",
"Properties":
{
"CidrBlock":"10.0.0.0/24"
}
},
"publicsubnet":
{
"Type":"AWS::EC2::Subnet",
"Properties":
{
"CidrBlock":"10.0.0.0/25",
"AvailabilityZone":"ap-south-1a",
"VpcId":{"Ref":"vpc1"},
"MapPublicIpOnLaunch":"True"
}
},
"privatesubnet":
{
"Type":"AWS::EC2::Subnet",
"Properties":
{
"CidrBlock":"10.0.0.128/25",
"AvailabilityZone":"ap-south-1b",
"VpcId":{"Ref":"vpc1"},
"MapPublicIpOnLaunch":"false"
}
},
"igw":
{
"Type":"AWS::EC2::InternetGateway"
},
"igwvpc1attachment":
{
"Type":"AWS::EC2::VPCGatewayAttachment",
"Properties":
{
"InternetGatewayId":{"Ref":"igw"},
"VpcId":{"Ref":"vpc1"}
}
},
"publicroute":
{
"Type":"AWS::EC2::RouteTable",
"Properties":
{
"VpcId":{"Ref":"vpc1"}
}
},
"Internetgatewaypublicrt":
{
"Type":"AWS::EC2::Route",
"Properties":
{
"RouteTableId":{"Ref":"publicroute"},
"DestinationCidrBlock":"0.0.0.0/0",
"GatewayId":{"Ref":"igw"}
}
},
"routetablepublicsubassc":
{
"Type":"AWS::EC2::SubnetRouteTableAssociation",
"Properties":
{
"SubnetId":{"Ref":"publicsubnet"},
"RouteTableId":{"Ref":"publicroute"}
}
}
},
"Outputs":
{
"subnetexport":
{
"Value":{"Ref":"publicsubnet"},
"Export":
{
"Name":"pubsubnet"
}
}
}
}
